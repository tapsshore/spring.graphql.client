{"ast":null,"code":"import { invariant, InvariantError } from \"../globals/index.js\";\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\nexport function checkDocument(doc) {\n  __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 44);\n  var operations = doc.definitions.filter(function (d) {\n    return d.kind !== 'FragmentDefinition';\n  }).map(function (definition) {\n    if (definition.kind !== 'OperationDefinition') {\n      throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\".concat(definition.kind, \"\\\"\")) : new InvariantError(45);\n    }\n\n    return definition;\n  });\n  __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \".concat(operations.length, \" operations\")) : invariant(operations.length <= 1, 46);\n  return doc;\n}\nexport function getOperationDefinition(doc) {\n  checkDocument(doc);\n  return doc.definitions.filter(function (definition) {\n    return definition.kind === 'OperationDefinition';\n  })[0];\n}\nexport function getOperationName(doc) {\n  return doc.definitions.filter(function (definition) {\n    return definition.kind === 'OperationDefinition' && definition.name;\n  }).map(function (x) {\n    return x.name.value;\n  })[0] || null;\n}\nexport function getFragmentDefinitions(doc) {\n  return doc.definitions.filter(function (definition) {\n    return definition.kind === 'FragmentDefinition';\n  });\n}\nexport function getQueryDefinition(doc) {\n  var queryDef = getOperationDefinition(doc);\n  __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 47);\n  return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n  __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 48);\n  __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 49);\n  var fragmentDef = doc.definitions[0];\n  __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 50);\n  return fragmentDef;\n}\nexport function getMainDefinition(queryDoc) {\n  checkDocument(queryDoc);\n  var fragmentDefinition;\n\n  for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n    var definition = _a[_i];\n\n    if (definition.kind === 'OperationDefinition') {\n      var operation = definition.operation;\n\n      if (operation === 'query' || operation === 'mutation' || operation === 'subscription') {\n        return definition;\n      }\n    }\n\n    if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n      fragmentDefinition = definition;\n    }\n  }\n\n  if (fragmentDefinition) {\n    return fragmentDefinition;\n  }\n\n  throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(51);\n}\nexport function getDefaultValues(definition) {\n  var defaultValues = Object.create(null);\n  var defs = definition && definition.variableDefinitions;\n\n  if (defs && defs.length) {\n    defs.forEach(function (def) {\n      if (def.defaultValue) {\n        valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n      }\n    });\n  }\n\n  return defaultValues;\n}","map":{"version":3,"sources":["C:/Users/Tapiwanashe Shoshore/Documents/Projects/spring.graphql/spring.graphql.client/node_modules/@apollo/client/utilities/graphql/getFromAST.js"],"names":["invariant","InvariantError","valueToObjectRepresentation","checkDocument","doc","__DEV__","kind","operations","definitions","filter","d","map","definition","concat","length","getOperationDefinition","getOperationName","name","x","value","getFragmentDefinitions","getQueryDefinition","queryDef","operation","getFragmentDefinition","fragmentDef","getMainDefinition","queryDoc","fragmentDefinition","_i","_a","getDefaultValues","defaultValues","Object","create","defs","variableDefinitions","forEach","def","defaultValue","variable"],"mappings":"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","sourcesContent":["import { invariant, InvariantError } from \"../globals/index.js\";\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\nexport function checkDocument(doc) {\n    __DEV__ ? invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc && doc.kind === 'Document', 44);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw __DEV__ ? new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\".concat(definition.kind, \"\\\"\")) : new InvariantError(45);\n        }\n        return definition;\n    });\n    __DEV__ ? invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \".concat(operations.length, \" operations\")) : invariant(operations.length <= 1, 46);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    __DEV__ ? invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.') : invariant(queryDef && queryDef.operation === 'query', 47);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    __DEV__ ? invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\") : invariant(doc.kind === 'Document', 48);\n    __DEV__ ? invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.') : invariant(doc.definitions.length <= 1, 49);\n    var fragmentDef = doc.definitions[0];\n    __DEV__ ? invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.') : invariant(fragmentDef.kind === 'FragmentDefinition', 50);\n    return fragmentDef;\n}\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw __DEV__ ? new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.') : new InvariantError(51);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n"]},"metadata":{},"sourceType":"module"}