{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { ApolloLink, execute } from \"../link/core/index.js\";\nimport { version } from \"../version.js\";\nimport { HttpLink } from \"../link/http/index.js\";\nimport { QueryManager } from \"./QueryManager.js\";\nimport { LocalState } from \"./LocalState.js\";\nvar hasSuggestedDevtools = false;\nimport { mergeOptions } from \"../utilities/index.js\";\nexport { mergeOptions };\n\nvar ApolloClient = function () {\n  function ApolloClient(options) {\n    var _this = this;\n\n    this.resetStoreCallbacks = [];\n    this.clearStoreCallbacks = [];\n    var uri = options.uri,\n        credentials = options.credentials,\n        headers = options.headers,\n        cache = options.cache,\n        _a = options.ssrMode,\n        ssrMode = _a === void 0 ? false : _a,\n        _b = options.ssrForceFetchDelay,\n        ssrForceFetchDelay = _b === void 0 ? 0 : _b,\n        _c = options.connectToDevTools,\n        connectToDevTools = _c === void 0 ? typeof window === 'object' && !window.__APOLLO_CLIENT__ && __DEV__ : _c,\n        _d = options.queryDeduplication,\n        queryDeduplication = _d === void 0 ? true : _d,\n        defaultOptions = options.defaultOptions,\n        _e = options.assumeImmutableResults,\n        assumeImmutableResults = _e === void 0 ? false : _e,\n        resolvers = options.resolvers,\n        typeDefs = options.typeDefs,\n        fragmentMatcher = options.fragmentMatcher,\n        clientAwarenessName = options.name,\n        clientAwarenessVersion = options.version;\n    var link = options.link;\n\n    if (!link) {\n      link = uri ? new HttpLink({\n        uri: uri,\n        credentials: credentials,\n        headers: headers\n      }) : ApolloLink.empty();\n    }\n\n    if (!cache) {\n      throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" + \"in the options object. \\n\" + \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(7);\n    }\n\n    this.link = link;\n    this.cache = cache;\n    this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n    this.queryDeduplication = queryDeduplication;\n    this.defaultOptions = defaultOptions || Object.create(null);\n    this.typeDefs = typeDefs;\n\n    if (ssrForceFetchDelay) {\n      setTimeout(function () {\n        return _this.disableNetworkFetches = false;\n      }, ssrForceFetchDelay);\n    }\n\n    this.watchQuery = this.watchQuery.bind(this);\n    this.query = this.query.bind(this);\n    this.mutate = this.mutate.bind(this);\n    this.resetStore = this.resetStore.bind(this);\n    this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n\n    if (connectToDevTools && typeof window === 'object') {\n      window.__APOLLO_CLIENT__ = this;\n    }\n\n    if (!hasSuggestedDevtools && __DEV__) {\n      hasSuggestedDevtools = true;\n\n      if (typeof window !== 'undefined' && window.document && window.top === window.self && !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\n        var nav = window.navigator;\n        var ua = nav && nav.userAgent;\n        var url = void 0;\n\n        if (typeof ua === \"string\") {\n          if (ua.indexOf(\"Chrome/\") > -1) {\n            url = \"https://chrome.google.com/webstore/detail/\" + \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\n          } else if (ua.indexOf(\"Firefox/\") > -1) {\n            url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\n          }\n        }\n\n        if (url) {\n          __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" + \"experience: \" + url);\n        }\n      }\n    }\n\n    this.version = version;\n    this.localState = new LocalState({\n      cache: cache,\n      client: this,\n      resolvers: resolvers,\n      fragmentMatcher: fragmentMatcher\n    });\n    this.queryManager = new QueryManager({\n      cache: this.cache,\n      link: this.link,\n      defaultOptions: this.defaultOptions,\n      queryDeduplication: queryDeduplication,\n      ssrMode: ssrMode,\n      clientAwareness: {\n        name: clientAwarenessName,\n        version: clientAwarenessVersion\n      },\n      localState: this.localState,\n      assumeImmutableResults: assumeImmutableResults,\n      onBroadcast: connectToDevTools ? function () {\n        if (_this.devToolsHookCb) {\n          _this.devToolsHookCb({\n            action: {},\n            state: {\n              queries: _this.queryManager.getQueryStore(),\n              mutations: _this.queryManager.mutationStore || {}\n            },\n            dataWithOptimisticResults: _this.cache.extract(true)\n          });\n        }\n      } : void 0\n    });\n  }\n\n  ApolloClient.prototype.stop = function () {\n    this.queryManager.stop();\n  };\n\n  ApolloClient.prototype.watchQuery = function (options) {\n    if (this.defaultOptions.watchQuery) {\n      options = mergeOptions(this.defaultOptions.watchQuery, options);\n    }\n\n    if (this.disableNetworkFetches && (options.fetchPolicy === 'network-only' || options.fetchPolicy === 'cache-and-network')) {\n      options = __assign(__assign({}, options), {\n        fetchPolicy: 'cache-first'\n      });\n    }\n\n    return this.queryManager.watchQuery(options);\n  };\n\n  ApolloClient.prototype.query = function (options) {\n    if (this.defaultOptions.query) {\n      options = mergeOptions(this.defaultOptions.query, options);\n    }\n\n    __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' + 'client.query can only return a single result. Please use client.watchQuery ' + 'to receive multiple results from the cache and the network, or consider ' + 'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 8);\n\n    if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n      options = __assign(__assign({}, options), {\n        fetchPolicy: 'cache-first'\n      });\n    }\n\n    return this.queryManager.query(options);\n  };\n\n  ApolloClient.prototype.mutate = function (options) {\n    if (this.defaultOptions.mutate) {\n      options = mergeOptions(this.defaultOptions.mutate, options);\n    }\n\n    return this.queryManager.mutate(options);\n  };\n\n  ApolloClient.prototype.subscribe = function (options) {\n    return this.queryManager.startGraphQLSubscription(options);\n  };\n\n  ApolloClient.prototype.readQuery = function (options, optimistic) {\n    if (optimistic === void 0) {\n      optimistic = false;\n    }\n\n    return this.cache.readQuery(options, optimistic);\n  };\n\n  ApolloClient.prototype.readFragment = function (options, optimistic) {\n    if (optimistic === void 0) {\n      optimistic = false;\n    }\n\n    return this.cache.readFragment(options, optimistic);\n  };\n\n  ApolloClient.prototype.writeQuery = function (options) {\n    this.cache.writeQuery(options);\n    this.queryManager.broadcastQueries();\n  };\n\n  ApolloClient.prototype.writeFragment = function (options) {\n    this.cache.writeFragment(options);\n    this.queryManager.broadcastQueries();\n  };\n\n  ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n    this.devToolsHookCb = cb;\n  };\n\n  ApolloClient.prototype.__requestRaw = function (payload) {\n    return execute(this.link, payload);\n  };\n\n  ApolloClient.prototype.resetStore = function () {\n    var _this = this;\n\n    return Promise.resolve().then(function () {\n      return _this.queryManager.clearStore({\n        discardWatches: false\n      });\n    }).then(function () {\n      return Promise.all(_this.resetStoreCallbacks.map(function (fn) {\n        return fn();\n      }));\n    }).then(function () {\n      return _this.reFetchObservableQueries();\n    });\n  };\n\n  ApolloClient.prototype.clearStore = function () {\n    var _this = this;\n\n    return Promise.resolve().then(function () {\n      return _this.queryManager.clearStore({\n        discardWatches: true\n      });\n    }).then(function () {\n      return Promise.all(_this.clearStoreCallbacks.map(function (fn) {\n        return fn();\n      }));\n    });\n  };\n\n  ApolloClient.prototype.onResetStore = function (cb) {\n    var _this = this;\n\n    this.resetStoreCallbacks.push(cb);\n    return function () {\n      _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) {\n        return c !== cb;\n      });\n    };\n  };\n\n  ApolloClient.prototype.onClearStore = function (cb) {\n    var _this = this;\n\n    this.clearStoreCallbacks.push(cb);\n    return function () {\n      _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) {\n        return c !== cb;\n      });\n    };\n  };\n\n  ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n    return this.queryManager.reFetchObservableQueries(includeStandby);\n  };\n\n  ApolloClient.prototype.refetchQueries = function (options) {\n    var map = this.queryManager.refetchQueries(options);\n    var queries = [];\n    var results = [];\n    map.forEach(function (result, obsQuery) {\n      queries.push(obsQuery);\n      results.push(result);\n    });\n    var result = Promise.all(results);\n    result.queries = queries;\n    result.results = results;\n    result.catch(function (error) {\n      __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \".concat(error));\n    });\n    return result;\n  };\n\n  ApolloClient.prototype.getObservableQueries = function (include) {\n    if (include === void 0) {\n      include = \"active\";\n    }\n\n    return this.queryManager.getObservableQueries(include);\n  };\n\n  ApolloClient.prototype.extract = function (optimistic) {\n    return this.cache.extract(optimistic);\n  };\n\n  ApolloClient.prototype.restore = function (serializedState) {\n    return this.cache.restore(serializedState);\n  };\n\n  ApolloClient.prototype.addResolvers = function (resolvers) {\n    this.localState.addResolvers(resolvers);\n  };\n\n  ApolloClient.prototype.setResolvers = function (resolvers) {\n    this.localState.setResolvers(resolvers);\n  };\n\n  ApolloClient.prototype.getResolvers = function () {\n    return this.localState.getResolvers();\n  };\n\n  ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n    this.localState.setFragmentMatcher(fragmentMatcher);\n  };\n\n  ApolloClient.prototype.setLink = function (newLink) {\n    this.link = this.queryManager.link = newLink;\n  };\n\n  return ApolloClient;\n}();\n\nexport { ApolloClient };","map":{"version":3,"sources":["C:/Users/Tapiwanashe Shoshore/Documents/Projects/spring.graphql.client/node_modules/@apollo/client/core/ApolloClient.js"],"names":["__assign","invariant","InvariantError","ApolloLink","execute","version","HttpLink","QueryManager","LocalState","hasSuggestedDevtools","mergeOptions","ApolloClient","options","_this","resetStoreCallbacks","clearStoreCallbacks","uri","credentials","headers","cache","_a","ssrMode","_b","ssrForceFetchDelay","_c","connectToDevTools","window","__APOLLO_CLIENT__","__DEV__","_d","queryDeduplication","defaultOptions","_e","assumeImmutableResults","resolvers","typeDefs","fragmentMatcher","clientAwarenessName","name","clientAwarenessVersion","link","empty","disableNetworkFetches","Object","create","setTimeout","watchQuery","bind","query","mutate","resetStore","reFetchObservableQueries","document","top","self","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","nav","navigator","ua","userAgent","url","indexOf","log","localState","client","queryManager","clientAwareness","onBroadcast","devToolsHookCb","action","state","queries","getQueryStore","mutations","mutationStore","dataWithOptimisticResults","extract","prototype","stop","fetchPolicy","subscribe","startGraphQLSubscription","readQuery","optimistic","readFragment","writeQuery","broadcastQueries","writeFragment","__actionHookForDevTools","cb","__requestRaw","payload","Promise","resolve","then","clearStore","discardWatches","all","map","fn","onResetStore","push","filter","c","onClearStore","includeStandby","refetchQueries","results","forEach","result","obsQuery","catch","error","debug","concat","getObservableQueries","include","restore","serializedState","addResolvers","setResolvers","getResolvers","setLocalStateFragmentMatcher","setFragmentMatcher","setLink","newLink"],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport { invariant, InvariantError } from \"../utilities/globals/index.js\";\nimport { ApolloLink, execute } from \"../link/core/index.js\";\nimport { version } from \"../version.js\";\nimport { HttpLink } from \"../link/http/index.js\";\nimport { QueryManager } from \"./QueryManager.js\";\nimport { LocalState, } from \"./LocalState.js\";\nvar hasSuggestedDevtools = false;\nimport { mergeOptions } from \"../utilities/index.js\";\nexport { mergeOptions };\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        var uri = options.uri, credentials = options.credentials, headers = options.headers, cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.connectToDevTools, connectToDevTools = _c === void 0 ? typeof window === 'object' &&\n            !window.__APOLLO_CLIENT__ &&\n            __DEV__ : _c, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d, defaultOptions = options.defaultOptions, _e = options.assumeImmutableResults, assumeImmutableResults = _e === void 0 ? false : _e, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link) {\n            link = uri\n                ? new HttpLink({ uri: uri, credentials: credentials, headers: headers })\n                : ApolloLink.empty();\n        }\n        if (!cache) {\n            throw __DEV__ ? new InvariantError(\"To initialize Apollo Client, you must specify a 'cache' property \" +\n                \"in the options object. \\n\" +\n                \"For more information, please visit: https://go.apollo.dev/c/docs\") : new InvariantError(7);\n        }\n        this.link = link;\n        this.cache = cache;\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || Object.create(null);\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        if (connectToDevTools && typeof window === 'object') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && __DEV__) {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self &&\n                !window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__) {\n                var nav = window.navigator;\n                var ua = nav && nav.userAgent;\n                var url = void 0;\n                if (typeof ua === \"string\") {\n                    if (ua.indexOf(\"Chrome/\") > -1) {\n                        url = \"https://chrome.google.com/webstore/detail/\" +\n                            \"apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\";\n                    }\n                    else if (ua.indexOf(\"Firefox/\") > -1) {\n                        url = \"https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/\";\n                    }\n                }\n                if (url) {\n                    __DEV__ && invariant.log(\"Download the Apollo DevTools for a better development \" +\n                        \"experience: \" + url);\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            cache: this.cache,\n            link: this.link,\n            defaultOptions: this.defaultOptions,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: connectToDevTools ? function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.getQueryStore(),\n                            mutations: _this.queryManager.mutationStore || {},\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            } : void 0,\n        });\n    }\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = mergeOptions(this.defaultOptions.watchQuery, options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = mergeOptions(this.defaultOptions.query, options);\n        }\n        __DEV__ ? invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\n            'client.query can only return a single result. Please use client.watchQuery ' +\n            'to receive multiple results from the cache and the network, or consider ' +\n            'using a different fetchPolicy, such as cache-first or network-only.') : invariant(options.fetchPolicy !== 'cache-and-network', 8);\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = mergeOptions(this.defaultOptions.mutate, options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        this.cache.writeQuery(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        this.cache.writeFragment(options);\n        this.queryManager.broadcastQueries();\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: false,\n        }); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore({\n            discardWatches: true,\n        }); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.refetchQueries = function (options) {\n        var map = this.queryManager.refetchQueries(options);\n        var queries = [];\n        var results = [];\n        map.forEach(function (result, obsQuery) {\n            queries.push(obsQuery);\n            results.push(result);\n        });\n        var result = Promise.all(results);\n        result.queries = queries;\n        result.results = results;\n        result.catch(function (error) {\n            __DEV__ && invariant.debug(\"In client.refetchQueries, Promise.all promise rejected with error \".concat(error));\n        });\n        return result;\n    };\n    ApolloClient.prototype.getObservableQueries = function (include) {\n        if (include === void 0) { include = \"active\"; }\n        return this.queryManager.getObservableQueries(include);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    ApolloClient.prototype.setLink = function (newLink) {\n        this.link = this.queryManager.link = newLink;\n    };\n    return ApolloClient;\n}());\nexport { ApolloClient };\n"]},"metadata":{},"sourceType":"module"}